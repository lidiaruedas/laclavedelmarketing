# La Clave del Marketing - Configuración Apache
# Redirigir todas las peticiones al front controller

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    
    # Redirigir a public/ si se accede a la raíz
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ public/$1 [L]
</IfModule>

# Seguridad: Denegar acceso a archivos sensibles
<FilesMatch "(^\.ht|\.php$|\.sql$)">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
</FilesMatch>

# Permitir acceso a index.php en public
<Files "index.php">
    <IfModule mod_authz_core.c>
        Require all granted
    </IfModule>
</Files>
